<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
	 crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
	 crossorigin="anonymous"></script>
	<title>Survey</title>
</head>

<body>
	<div class="container">
		<h2>Survey Questions</h2>
		<hr>

		<h3><strong>About You</strong></h3>
		<h4>Name (Required)</h4>
		<input type="text" name="" id="name" class="form-control" required>

		<h4>Link to Photo Image (Required)</h4>
		<input type="text" name="" id="" class="form-control" required>

		<hr>

		<h3><strong>Question 1</strong></h3>
		<h4>People who are too weak or dependent deserve whatever abuses happen to them.</h4>
		<select data-placeholder="" class="chosen-select" id="q1">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option vaue="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>

		<br>
		<br>

		<h3><strong>Question 2</strong></h3>
		<h4>Life is utterrly meaningless.</h4>
		<select data-placeholder="" class="chosen-select" id="q1">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option vaue="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>

		<br>
		<br>

		<h3><strong>Question 3</strong></h3>
		<h4>You sacrifice yourself to others and often neglect your own needs.</h4>
		<select data-placeholder="" class="chosen-select" id="q1">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option vaue="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>

		<br>
		<br>

		<h3><strong>Question 4</strong></h3>
		<h4>You are introverted.</h4>
		<select data-placeholder="" class="chosen-select" id="q1">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option vaue="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>

		<br>
		<br>

		<h3><strong>Question 5</strong></h3>
		<h4>It's better to be smart, powerful, and feared than to be nice, harmonious, and loved.</h4>
		<select data-placeholder="" class="chosen-select" id="q1">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option vaue="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>

		<br>
		<br>

		<h3><strong>Question 6</strong></h3>
		<h4>You would rather have too much freedom instead of too much security.</h4>
		<select data-placeholder="" class="chosen-select" id="q1">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option vaue="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>

		<br>
		<br>

		<h3><strong>Question 7</strong></h3>
		<h4>You prefer to use your brain and senses over your heart and intuition.</h4>
		<select data-placeholder="" class="chosen-select" id="q1">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option vaue="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>

		<br>
		<br>

		<h3><strong>Question 8</strong></h3>
		<h4>It's better to be rich and famous than to be authentic and poor.</h4>
		<select data-placeholder="" class="chosen-select" id="q1">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option vaue="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>

		<br>
		<br>

		<h3><strong>Question 9</strong></h3>
		<h4>You believe in God.</h4>
		<select data-placeholder="" class="chosen-select" id="q1">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option vaue="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>

		<br>
		<br>

		<h3><strong>Question 10</strong></h3>
		<h4>You prefer equality of opportunity over equality of wealth.</h4>
		<select data-placeholder="" class="chosen-select" id="q1">
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option vaue="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>

		<br>
		<br>

		<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>Submit</button>

		<br>
		<br>

		<footer class="footer">
			<div class="container">
				<p><a href="/api/friendslist">API Friends List</a> | <a href="/api/repo">GitHub Repo</a>
			</div>
		</footer>

	</div>

	<!-- Modal -->

	<div id="modal" class="modal" tabindex="-1" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="example">Modal title</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" id="photo">
					<p>Modal body text goes here.</p>
				</div>
			</div>
		</div>
	</div>




	<script>

		$("#submit").on("click", function (event) {
			event.preventDefault();
			var score = {
				score: myScore()
			};
			console.log(score);

			$.ajax({
				url: '/submit',
				method: 'POST',
				data: score,
				success: function (response) {
					console.log(response);
					// use this response to write the modal html data
					$('#example').text(response.name);
					$("#photo").text(response.photo);
				},
				error: function (error) {
					console.log(error);
				}
			})


		});

		function myScore() {
			var myTotalScore = 0;
			var chosenSelect = $('.chosen-select');
			for (var i = 0; i < chosenSelect.length; i++) {
				myTotalScore += parseInt(chosenSelect[i].value);
			}
			return myTotalScore;
		};

/* Modal */

var modal = document.getElementById("modal");
// Get the button that opens the modal
var btn = document.getElementById("submit");
// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];
// When the user clicks the button, open the modal 
submit.onclick = function() {
    modal.style.display = "block";
}
// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}
// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}
	</script>
</body>

</html>